---
import { Menu, X } from 'lucide-astro';
import Container from '../ui/Container.astro';
import Button from '../ui/Button.astro';
import { APP_URLS } from '../../utils/constants';
---

<header class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200">
  <Container>
    <nav class="flex items-center justify-between h-16">
      <!-- Logo -->
      <a href="/" class="flex items-center space-x-3 group">
        <img
          src="/logo.png"
          alt="Goodseva Logo"
          class="w-10 h-10 object-contain transition-transform group-hover:scale-105"
        />
        <span class="text-xl font-bold text-gray-900 tracking-wide font-display">
          GOODSEVA
        </span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="#features" class="text-gray-600 hover:text-primary-600 transition-colors">Features</a>
        <a href="#user-types" class="text-gray-600 hover:text-primary-600 transition-colors">For You</a>
        <a href="#how-it-works" class="text-gray-600 hover:text-primary-600 transition-colors">How It Works</a>
      </div>

      <!-- CTA Buttons -->
      <div class="hidden md:flex items-center space-x-4">
        <Button href={APP_URLS.LOGIN} variant="secondary" size="sm">
          Login
        </Button>
        <Button href={APP_URLS.REGISTER} variant="primary" size="sm">
          Get Started
        </Button>
      </div>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="md:hidden p-2 rounded-lg hover:bg-gray-100"
        aria-label="Toggle menu"
      >
        <Menu class="w-6 h-6" />
      </button>
    </nav>
  </Container>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-gray-200">
    <Container class="py-4 space-y-4">
      <a href="#features" class="block py-2 text-gray-600 hover:text-primary-600">Features</a>
      <a href="#user-types" class="block py-2 text-gray-600 hover:text-primary-600">For You</a>
      <a href="#how-it-works" class="block py-2 text-gray-600 hover:text-primary-600">How It Works</a>
      <div class="flex flex-col space-y-2 pt-4">
        <Button href={APP_URLS.LOGIN} variant="secondary" size="sm">
          Login
        </Button>
        <Button href={APP_URLS.REGISTER} variant="primary" size="sm">
          Get Started
        </Button>
      </div>
    </Container>
  </div>
</header>

<script>
  // Mobile menu toggle
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  menuButton?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  // Close mobile menu on link click
  const mobileLinks = mobileMenu?.querySelectorAll('a');
  mobileLinks?.forEach((link) => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });
</script>
